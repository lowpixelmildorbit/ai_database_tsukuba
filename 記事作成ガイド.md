# 📝 記事作成ワークフロー

新しい記事を作成し、データベースに追加するまでの手順です。
すべてコピペで完結します。

---

## ステップ 1: 既存タイトル一覧を取得する

記事の重複を防ぐため、まず以下のコマンドをターミナルで実行して、既存の記事タイトル一覧を取得します。

```bash
cd ~/Desktop/プログラム/database_AI && node -e "const a=JSON.parse(require('fs').readFileSync('data/articles.json','utf8')); console.log('--- 登録済み記事一覧（'+a.length+'件） ---'); a.forEach((x,i)=>console.log((i+1)+'. '+x.title)); console.log('---')"
```

出力例:

```
--- 登録済み記事一覧（10件） ---
1. Google Gemini 2.0 Flash: エージェント時代に向けた高速マルチモーダルAI
2. Anthropic Claude 3.5 Sonnet: 高性能と低コストを両立した中位モデル
...
---
```

---

## ステップ 2: AIに記事を作成してもらう

AIチャット（ChatGPT、Gemini など）に以下のプロンプトを貼り付けてください。
**⬇ ここからコピー ⬇**

```
あなたは生成AIデータベースのキュレーターです。
以下の「指示書」と「登録済み記事一覧」を参考に、新しい記事を1つ作成してください。

## ルール
- 「登録済み記事一覧」にある記事と内容が重複しないこと
- 出力は指定のJSON形式のみ（説明文は不要）
- `id` は既存IDと重複しないよう連番を付与

## 指示書（記事フォーマット）
（ここに「指示書.md」の内容を貼り付ける）

## 登録済み記事一覧
（ここにステップ1で取得したタイトル一覧を貼り付ける）

## 作成テーマ
（ここに書きたいテーマや論文URL等を入力する）
```

**⬆ ここまでコピー ⬆**

---

## ステップ 3: 記事をデータベースに追加する

1. AIが出力したJSONをコピー
2. `data/articles.json` を開く
3. 配列の最後に追加する（末尾の `]` の直前にカンマ `,` を付けて貼り付け）

---

## ステップ 4: タイトル一覧ファイルを自動更新する

記事を追加したら、以下のコマンドで `existing_titles.txt` を自動更新できます。

```bash
cd ~/Desktop/プログラム/database_AI && node -e "
const a=JSON.parse(require('fs').readFileSync('data/articles.json','utf8'));
const out = '以下はデータベースに登録済みの記事タイトル一覧です。\n新しい記事を作成する際は、これらと内容が重複しないようにしてください。\n\n--- 登録済み記事一覧 ---\n' + a.map((x,i)=>(i+1)+'. '+x.title).join('\n') + '\n---\n\n上記以外のテーマで新しい記事を作成してください。';
require('fs').writeFileSync('data/existing_titles.txt', out);
console.log('✅ existing_titles.txt を更新しました（'+a.length+'件）');
"
```

---

## 🚀 まとめ（クイックリファレンス）

| ステップ | やること           | 方法                       |
| -------- | ------------------ | -------------------------- |
| 1        | タイトル一覧を取得 | ターミナルでコマンド実行   |
| 2        | AIに記事生成を依頼 | プロンプトをコピペ         |
| 3        | JSONを追加         | `articles.json` に貼り付け |
| 4        | タイトル一覧を更新 | ターミナルでコマンド実行   |
